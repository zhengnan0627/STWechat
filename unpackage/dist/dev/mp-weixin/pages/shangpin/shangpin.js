(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shangpin/shangpin"],{100:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/ZN/Documents/HBuilderProjects/STWechat/pages/shangpin/shangpin.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(/*! ./node_modules/@babel/runtime/regenerator */101));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,o,s,r){try{var u=t[s](r),a=u.value}catch(c){return void n(c)}u.done?e(a):Promise.resolve(a).then(i,o)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function u(t){s(r,i,o,u,a,"next",t)}function a(t){s(r,i,o,u,a,"throw",t)}u(void 0)}))}}var u={data:function(){return{type:"套餐分类",rightshow:!1,bottomshow:!1,tablist:[],current:0,badge:4,isScroll:!0,isTap:!0,goodList:[],g_fenleiId:0,currentTab:0,menuHeight:0,menuItemHeight:0,leftscrollTop:0,scrollTop:0,height:0,top:0,pageindex:1,rightgoodslist:[],taocandetailList:[],old:{scrollTop:0},status:"loadmore"}},onLoad:function(){var e=this;this.initFenleiRequest(this.type),console.log("shangpinonload"),t.$on("diaohuoemit",this.diaohuoEmit),setTimeout((function(){t.getSystemInfo({success:function(n){var i=184,o=0;console.log(n),e.height=n.windowHeight-t.upx2px(i),e.top=o+t.upx2px(i),e.menuHeight=n.windowHeight-t.upx2px(i),e.menuItemHeight=t.upx2px(110)}})}),50)},onShow:function(){"套餐分类"==this.type?t.setNavigationBarTitle({title:"商品展示-套餐"}):t.setNavigationBarTitle({title:"商品展示-单品"}),this.type!=t.getStorageSync("type")&&""!=t.getStorageSync("type")&&(this.type=t.getStorageSync("type"),console.log(this.type),"套餐分类"==this.type?t.setNavigationBarTitle({title:"商品展示-套餐"}):t.setNavigationBarTitle({title:"商品展示-单品"}),this.current=0,this.currentTab=0,this.initFenleiRequest(this.type))},onHide:function(){},onUnload:function(){console.log("shangpinonUnloadonUnloadonUnload"),t.$off("diaohuoemit"),t.setStorageSync("type","")},methods:{searchclick:function(){console.log("进入搜索页面"),t.navigateTo({url:"search/search"})},diaohuoEmit:function(t){console.log(t),this.type},popuptaocan:function(){"套餐分类"!=this.type?(this.type="套餐分类",this.rightshow=!1,t.setStorageSync("type","套餐分类"),t.setNavigationBarTitle({title:"商品展示-套餐"}),this.current=0,this.currentTab=0,this.initFenleiRequest(this.type)):this.rightshow=!1},popupdanpin:function(){"单品分类"!=this.type?(this.type="单品分类",this.rightshow=!1,t.setStorageSync("type","单品分类"),t.setNavigationBarTitle({title:"商品展示-单品"}),this.current=0,this.currentTab=0,this.initFenleiRequest(this.type)):this.rightshow=!1},topiconclick:function(){this.rightshow=!0},change:function(e){var n=this;this.current!=e&&(this.current=e,this.currentTab=0,this.$request({data:{type:this.type,userid:t.getStorageSync("userid"),sub_type:"二级分类",fl_bh:this.tablist[e].fl_bh}}).then((function(e){if(0!=e.code)return n.goodList=[],n.$u.toast(e.data[0].msg_info);console.log(e),n.goodList=e.data,n.$request({data:{type:n.type,userid:t.getStorageSync("userid"),sub_type:"三级分类",fl_bh:n.goodList[0].fl_bh}}).then((function(t){if(0!=t.code)return n.rightgoodslist=[],n.$u.toast(t.data[0].msg_info);console.log(t),n.rightgoodslist=t.data}))})))},ToCart:function(){},goodsItemClick:function(e,n){"套餐分类"==this.type?t.navigateTo({url:"taocanlist/taocanlist?danpininfo="+JSON.stringify(e)}):t.navigateTo({url:"danpinlist/danpinlist?danpininfo="+JSON.stringify(e)})},taocanPlus:function(e,n){t.navigateTo({url:"taocanlist/taocanlist?danpininfo="+JSON.stringify(e)})},danpinRight:function(e,n){t.navigateTo({url:"danpinlist/danpinlist?danpininfo="+JSON.stringify(e)})},swichNav:function(e,n){var o=this;return r(i.default.mark((function s(){var r;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log(e),console.log(n),o.g_fenleiId=n.currentTarget.id,r=n.currentTarget.dataset.current,o.currentTab!=r){i.next=8;break}return i.abrupt("return",!1);case 8:o.currentTab=r,console.log(o.currentTab);case 10:if(o.scrollTop=o.old.scrollTop,o.$nextTick((function(){this.scrollTop=0})),console.log(e),console.log(n),0!=o.menuHeight&&0!=o.menuItemHeight){i.next=19;break}return i.next=17,o.getElRect("menu-scroll-view","menuHeight");case 17:return i.next=19,o.getElRect("u-tab-item","menuItemHeight");case 19:o.leftscrollTop=r*o.menuItemHeight+o.menuItemHeight/2-o.menuHeight/2,o.$request({data:{type:o.type,userid:t.getStorageSync("userid"),sub_type:"三级分类",fl_bh:e.fl_bh}}).then((function(t){if(0!=t.code)return o.rightgoodslist=[],o.$u.toast(t.data[0].msg_info);console.log(t),o.rightgoodslist=t.data}));case 21:case"end":return i.stop()}}),s)})))()},getElRect:function(e,n){var i=this;new Promise((function(o,s){var r=t.createSelectorQuery().in(i);r.select("."+e).fields({size:!0},(function(t){t?i[n]=t.height:setTimeout((function(){i.getElRect(e)}),10)})).exec()}))},scroll:function(t){var e=this;this.isScroll?this.old.scrollTop=t.detail.scrollTop:setTimeout((function(){e.isScroll=!0}),150)},backscrollTop:function(){this.scrollTop=this.old.scrollTop,this.$nextTick((function(){this.scrollTop=0}))},scrolltolower:function(t){console.log(this.pageindex,this.pageindex),this.pageindex>=this.total_page?this.status="nomore":(this.status="loading",this.pageindex+=1)},goodsdetail:function(e,n){var i=JSON.stringify(this.kehuinfo);t.navigateTo({url:"goodsdetail?item="+JSON.stringify(e)+"&kehuinfo="+i})},XXXXinitFenleiRequest:function(e){var n=this;return r(i.default.mark((function o(){var s,r,u;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.$request({data:{type:e,userid:t.getStorageSync("userid"),sub_type:"一级分类",fl_bh:""}});case 2:return s=i.sent,n.tablist=s.data,i.next=6,n.$request({data:{type:e,userid:t.getStorageSync("userid"),sub_type:"二级分类",fl_bh:n.tablist[0].fl_bh}});case 6:return r=i.sent,n.goodList=r.data,i.next=10,n.$request({data:{type:e,userid:t.getStorageSync("userid"),sub_type:"三级分类",fl_bh:n.goodList[0].fl_bh}});case 10:u=i.sent,n.rightgoodslist=u.data;case 12:case"end":return i.stop()}}),o)})))()},initFenleiRequest:function(e){var n=this;this.$request({data:{type:e,userid:t.getStorageSync("userid"),sub_type:"一级分类",fl_bh:""}}).then((function(i){if(0!=i.code)return n.$u.toast(i.data[0].msg_info);console.log(i),n.tablist=i.data,n.$request({data:{type:e,userid:t.getStorageSync("userid"),sub_type:"二级分类",fl_bh:n.tablist[0].fl_bh}}).then((function(i){if(0!=i.code)return n.$u.toast(i.data[0].msg_info);console.log(i),n.goodList=i.data,n.$request({data:{type:e,userid:t.getStorageSync("userid"),sub_type:"三级分类",fl_bh:n.goodList[0].fl_bh}}).then((function(t){if(0!=t.code)return n.$u.toast(t.data[0].msg_info);console.log(t),n.rightgoodslist=t.data}))}))}))}}};e.default=u}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},104:
/*!********************************************************************************************************************!*\
  !*** C:/Users/ZN/Documents/HBuilderProjects/STWechat/pages/shangpin/shangpin.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shangpin.vue?vue&type=style&index=0&lang=css& */105),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},105:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/ZN/Documents/HBuilderProjects/STWechat/pages/shangpin/shangpin.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){},95:
/*!******************************************************************************************************!*\
  !*** C:/Users/ZN/Documents/HBuilderProjects/STWechat/main.js?{"page":"pages%2Fshangpin%2Fshangpin"} ***!
  \******************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4);i(n(/*! vue */2));var e=i(n(/*! ./pages/shangpin/shangpin.vue */96));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},96:
/*!***********************************************************************************!*\
  !*** C:/Users/ZN/Documents/HBuilderProjects/STWechat/pages/shangpin/shangpin.vue ***!
  \***********************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./shangpin.vue?vue&type=template&id=5bf56886& */97),o=n(/*! ./shangpin.vue?vue&type=script&lang=js& */99);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n(/*! ./shangpin.vue?vue&type=style&index=0&lang=css& */104);var r,u=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),a=Object(u["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],r);a.options.__file="pages/shangpin/shangpin.vue",e["default"]=a.exports},97:
/*!******************************************************************************************************************!*\
  !*** C:/Users/ZN/Documents/HBuilderProjects/STWechat/pages/shangpin/shangpin.vue?vue&type=template&id=5bf56886& ***!
  \******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shangpin.vue?vue&type=template&id=5bf56886& */98);n.d(e,"render",(function(){return i["render"]})),n.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(e,"components",(function(){return i["components"]}))},98:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/ZN/Documents/HBuilderProjects/STWechat/pages/shangpin/shangpin.vue?vue&type=template&id=5bf56886& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var i;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return s})),n.d(e,"components",(function(){return i}));try{i={uniSearchBar:function(){return n.e(/*! import() | components/uni-search-bar/uni-search-bar */"components/uni-search-bar/uni-search-bar").then(n.bind(null,/*! @/components/uni-search-bar/uni-search-bar.vue */428))},uniIcons:function(){return Promise.all(/*! import() | components/uni-icons/uni-icons */[n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(n.bind(null,/*! @/components/uni-icons/uni-icons.vue */413))},uSearch:function(){return n.e(/*! import() | uview-ui/components/u-search/u-search */"uview-ui/components/u-search/u-search").then(n.bind(null,/*! @/uview-ui/components/u-search/u-search.vue */435))},uTabs:function(){return Promise.all(/*! import() | uview-ui/components/u-tabs/u-tabs */[n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,/*! @/uview-ui/components/u-tabs/u-tabs.vue */442))},uIcon:function(){return n.e(/*! import() | uview-ui/components/u-icon/u-icon */"uview-ui/components/u-icon/u-icon").then(n.bind(null,/*! @/uview-ui/components/u-icon/u-icon.vue */336))},uEmpty:function(){return n.e(/*! import() | uview-ui/components/u-empty/u-empty */"uview-ui/components/u-empty/u-empty").then(n.bind(null,/*! @/uview-ui/components/u-empty/u-empty.vue */421))},uBackTop:function(){return n.e(/*! import() | uview-ui/components/u-back-top/u-back-top */"uview-ui/components/u-back-top/u-back-top").then(n.bind(null,/*! @/uview-ui/components/u-back-top/u-back-top.vue */449))},uLoadmore:function(){return n.e(/*! import() | uview-ui/components/u-loadmore/u-loadmore */"uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,/*! @/uview-ui/components/u-loadmore/u-loadmore.vue */456))},uPopup:function(){return n.e(/*! import() | uview-ui/components/u-popup/u-popup */"uview-ui/components/u-popup/u-popup").then(n.bind(null,/*! @/uview-ui/components/u-popup/u-popup.vue */463))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.bottomshow=!1})},s=!1,r=[];o._withStripped=!0},99:
/*!************************************************************************************************************!*\
  !*** C:/Users/ZN/Documents/HBuilderProjects/STWechat/pages/shangpin/shangpin.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shangpin.vue?vue&type=script&lang=js& */100),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a}},[[95,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shangpin/shangpin.js.map